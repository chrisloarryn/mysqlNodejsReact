"use strict";var catchAsync=require("./../utils/catchAsync"),AppError=require("./../utils/appError"),APIFeatures=require("./../utils/apiFeatures"),jwt=require("jsonwebtoken"),_require=require("../config/config"),loadConfig=_require.loadConfig,model=require("../models/index");loadConfig(),exports.deleteOne=function(e){return catchAsync(function(t,r,n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(doc){e.next=2;break}return e.abrupt("return",n(new AppError("No document found with that ID",404)));case 2:r.status(204).json({status:"success",requestedAt:t.requestTime,data:null});case 3:case"end":return e.stop()}})})},exports.updateOne=function(e){return catchAsync(function(e,t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(doc){e.next=2;break}return e.abrupt("return",r(new AppError("No document found with that ID",404)));case 2:t.status(200).json({status:"success",data:{data:doc}});case 3:case"end":return e.stop()}})})},exports.createOne=function(e){return catchAsync(function(t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:r.status(201).json({status:"success",requestedAt:t.requestTime,data:{data:doc}});case 1:case"end":return e.stop()}})})},exports.getOne=function(e,t){return catchAsync(function(e,t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(doc){e.next=2;break}return e.abrupt("return",r(new AppError("No document found with that ID",404)));case 2:t.status(200).json({status:"success",data:{data:doc}});case 3:case"end":return e.stop()}})})},exports.getAll=function(e){return catchAsync(function(t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.params),{},t.params.tourId&&{tour:t.params.tourId},model.User.findAll().then(function(e){return console.log(e)}).catch(function(e){console.log(e)}),r.status(200).json({status:"success",requestedAt:t.requestTime,results:"doc.length",data:{data:"doc"}});case 5:case"end":return e.stop()}})})};